# üõ°Ô∏è Orchid ‚Äî Honeypot + ML Ensemble –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –≤–µ–±-–∞—Ç–∞–∫

**Orchid** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞—Ç–∞–∫, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è:

- **Honeypot** (–Ω–∞ –±–∞–∑–µ OWASP Juice Shop) –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤.
- **–ê–Ω—Å–∞–º–±–ª—å ML-–º–æ–¥–µ–ª–µ–π** (Isolation Forest –∏ Random Forest), –∫–æ—Ç–æ—Ä—ã–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç —Ç—Ä–∞—Ñ–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- **–í–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
- **Telegram-–±–æ—Ç–∞** –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ IP.

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ–± –∞—Ç–∞–∫–∞—Ö, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ SQLite, –∞ —Ç–∞–∫–∂–µ —É–º–µ–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ IP —á–µ—Ä–µ–∑ iptables.

---

## üß† –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

Orchid –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Juice Shop), –ø—Ä–∏–≤–ª–µ–∫–∞—è –∞—Ç–∞–∫—É—é—â–∏—Ö. –í—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –¥–≤—É–º—è ML‚Äë–º–æ–¥–µ–ª—è–º–∏:

- **Isolation Forest** ‚Äî –≤—ã—è–≤–ª—è–µ—Ç –∞–Ω–æ–º–∞–ª–∏–∏ (–Ω–µ—Ç–∏–ø–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã).
- **Random Forest** ‚Äî –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Ç–∏–ø –∞—Ç–∞–∫–∏ (SQLi, XSS, LFI, RCE, Brute‚Äëforce, XXE).

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ. –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ –∞—Ç–∞–∫ —Å –æ–¥–Ω–æ–≥–æ IP —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ iptables.

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11+**
- **FastAPI** ‚Äî –±—ç–∫–µ–Ω–¥ –∏ ML‚Äë—Å–µ—Ä–≤–∏—Å—ã
- **Uvicorn** ‚Äî ASGI‚Äë—Å–µ—Ä–≤–µ—Ä
- **Docker / Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **SQLite** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- **Scikit‚Äëlearn** ‚Äî ML‚Äë–º–æ–¥–µ–ª–∏
- **Pandas / NumPy** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **Nginx** ‚Äî —Ä–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ –∞–¥–º–∏–Ω–∫–∏
- **Telegram Bot API** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **Leaflet + OpenStreetMap** ‚Äî –∫–∞—Ä—Ç–∞ –∞—Ç–∞–∫

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/yourusername/orchid.git
cd orchid—ë
```
2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ü—Ä–æ–µ–∫—Ç —Ç—Ä–µ–±—É–µ—Ç Python 3.11 –∏–ª–∏ –≤—ã—à–µ.
bash
```
python3.11 -m venv venv
source venv/bin/activate      # Linux / Mac
# –∏–ª–∏ venv\Scripts\activate     # Windows

pip install --upgrade pip
pip install -r requirements.txt
pip install -r ml-core/requirements.txt
```
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è Telegram‚Äë–±–æ—Ç–∞ –∏ –∫–∞—Ä—Ç—ã:
bash
```
pip install python-telegram-bot geoip2
```
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–µ–π
bash
```
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ –∏ –ë–î
./scripts/init_project.sh

# –°–∫–∞—á–∞–π—Ç–µ GeoLite2‚ÄëCity.mmdb (–±–µ—Å–ø–ª–∞—Ç–Ω–æ —Å MaxMind) –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ data/
# –õ–∏–±–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é, —É–¥–∞–ª–∏–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥.

# –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å)
cd ml-core
python train_real_models.py
cd ..
``` 
4. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
bash
``` 
docker-compose up -d
``` 
–≠—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç:

    ML‚Äë—Å–µ—Ä–≤–∏—Å—ã (–ø–æ—Ä—Ç—ã 8001, 8002)

    Admin Backend (–ø–æ—Ä—Ç 8003)

    Admin Panel (nginx, –ø–æ—Ä—Ç 3000)

    Juice Shop (–ø–æ—Ä—Ç 3001)

5. –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∞ (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç—Ä–∞—Ñ–∏–∫–∞)
bash
``` 
python scripts/monitor_juice_improved.py
```
üñ•Ô∏è –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

    –ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å: http://localhost:3000

    Juice Shop: http://localhost:3001

    API –±—ç–∫–µ–Ω–¥–∞: http://localhost:8003/docs (Swagger)

üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

1. –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ML‚Äë—Å–µ—Ä–≤–∏—Å–∞–º (Connection refused)

–ü—Ä–∏—á–∏–Ω–∞: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã –∏–ª–∏ –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã.

–†–µ—à–µ–Ω–∏–µ:
bash
``` 
docker-compose ps          # –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose logs ml-isolation   # –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
``` 
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã 8001, 8002, 8003, 3000, 3001 —Å–≤–æ–±–æ–¥–Ω—ã.
2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è / –æ—à–∏–±–∫–∏ SQLite

–†–µ—à–µ–Ω–∏–µ:
bash
``` 
# –í—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã
sqlite3 data/attacks.db < schema.sql
# –õ–∏–±–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å admin_backend, –æ–Ω —Å–∞–º —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
``` 
3. –û—à–∏–±–∫–∞ Address already in use

–†–µ—à–µ–Ω–∏–µ: –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ –ø–æ—Ä—Ç –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –≤ docker-compose.yml.
bash
``` 
sudo lsof -i :8001   # —É–∑–Ω–∞—Ç—å, –∫–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç
kill -9 <PID>
``` 
5. –ó–≤—É–∫ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è

    –ü–æ–ª–æ–∂–∏—Ç–µ —Ñ–∞–π–ª cat.mp3 –≤ –ø–∞–ø–∫—É admin/html/. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–≤—É–∫ —á–µ—Ä–µ–∑ Web Audio.

